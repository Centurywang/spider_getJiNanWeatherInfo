!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a){a=a.replace(/^\s/,"");var b=a.split(" "),c=b.shift(),e=b.join(" ");switch(c){case"if":a="if("+e+"){";break;case"else":b="if"===b.shift()?" if("+b.join(" ")+")":"",a="}else"+b+"{";break;case"/if":a="}";break;case"each":var f=b[0]||"$data",g=b[1]||"as",h=b[2]||"$value",i=b[3]||"$index",j=h+","+i;"as"!==g&&(f="[]"),a="$each("+f+",function("+j+"){";break;case"/each":a="});";break;case"echo":a="print("+e+");";break;case"print":case"include":a=c+"("+b.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(e)){var k=!0;0===a.indexOf("#")&&(a=a.substr(1),k=!1);for(var l=0,m=a.split("|"),n=m.length,o=m[l++];n>l;l++)o=z(o,m[l]);a=(k?"=":"=#")+o}else a=d.helpers[c]?"=#"+c+"("+b.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}();(function(){var lastTime=0;var vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=window.performance.now();var timeToCall=Math.max(0,16.6-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}})();(function(){if("performance"in window===false){window.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in window.performance===false){var offset=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-offset}}})();var TWEEN=function(){var _tweens=[];return{add:function(tween){_tweens.push(tween)},remove:function(tween){var i=_tweens.indexOf(tween);if(i!==-1){_tweens.splice(i,1)}},update:function(time){if(_tweens.length===0){return false}var i=0;time=time!==undefined?time:window.performance.now();while(i<_tweens.length){if(_tweens[i].update(time)){i++}else{_tweens.splice(i,1)}}return true}}}();TWEEN.Tween=function(object){var _object=object;var _valuesStart={};var _valuesEnd={};var _valuesStartRepeat={};var _duration=1e3;var _isPlaying=false;var _startTime=null;var _easingFunction=TWEEN.Easing.Linear;var _interpolationFunction=function(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);var fn=function(p0,p1,t){return(p1-p0)*t+p0};if(k<0){return fn(v[0],v[1],f)}if(k>1){return fn(v[m],v[m-1],m-f)}return fn(v[i],v[i+1>m?m:i+1],f-i)};var _onStartCallback=null;var _onStartCallbackFired=false;var _onUpdateCallback=null;var _onStopCallback=null;var _onCompleteCallback=null;for(var field in object){_valuesStart[field]=parseFloat(object[field],10)}this.to=function(properties,duration){if(duration!==undefined){_duration=duration}_valuesEnd=properties;return this};this.start=function(time){TWEEN.add(this);_isPlaying=true;_onStartCallbackFired=false;_startTime=time!==undefined?time:window.performance.now();for(var property in _valuesEnd){if(_valuesEnd[property]instanceof Array){if(_valuesEnd[property].length===0){continue}_valuesEnd[property]=[_object[property]].concat(_valuesEnd[property])}if(_valuesStart[property]===undefined){continue}_valuesStart[property]=_object[property];if(_valuesStart[property]instanceof Array===false){_valuesStart[property]*=1}}return this};this.stop=function(){if(!_isPlaying){return this}TWEEN.remove(this);_isPlaying=false;if(_onStopCallback!==null){_onStopCallback.call(_object)}return this};this.easing=function(easing){_easingFunction=easing;return this};this.onStart=function(callback){_onStartCallback=callback;return this};this.onUpdate=function(callback){_onUpdateCallback=callback;return this};this.onComplete=function(callback){_onCompleteCallback=callback;return this};this.onStop=function(callback){_onStopCallback=callback;return this};this.update=function(time){var property;var elapsed;var value;if(time<_startTime){return true}if(_onStartCallbackFired===false){if(_onStartCallback!==null){_onStartCallback.call(_object)}_onStartCallbackFired=true}elapsed=(time-_startTime)/_duration;elapsed=elapsed>1?1:elapsed;value=_easingFunction(elapsed);for(property in _valuesEnd){if(_valuesStart[property]===undefined){continue}var start=_valuesStart[property]||0;var end=_valuesEnd[property];if(end instanceof Array){_object[property]=_interpolationFunction(end,value)}else{if(typeof end==="string"){if(end.startsWith("+")||end.startsWith("-")){end=start+parseFloat(end,10)}else{end=parseFloat(end,10)}}if(typeof end==="number"){_object[property]=start+(end-start)*value}}}if(_onUpdateCallback!==null){_onUpdateCallback.call(_object,value)}if(elapsed===1){if(_onCompleteCallback!==null){_onCompleteCallback.call(_object)}return false}return true}};TWEEN.Easing={Linear:function(k){return k},QuadInOut:function(k){if((k*=2)<1){return.5*k*k}return-.5*(--k*(k-2)-1)},BackInOut:function(k){var s=1.70158*1.525;if((k*=2)<1){return.5*(k*k*((s+1)*k-s))}return.5*((k-=2)*k*((s+1)*k+s)+2)},BounceIn:function(k){return 1-TWEEN.Easing.BounceOut(1-k)},BounceOut:function(k){if(k<1/2.75){return 7.5625*k*k}else if(k<2/2.75){return 7.5625*(k-=1.5/2.75)*k+.75}else if(k<2.5/2.75){return 7.5625*(k-=2.25/2.75)*k+.9375}else{return 7.5625*(k-=2.625/2.75)*k+.984375}},BounceInOut:function(k){if(k<.5){return TWEEN.Easing.BounceIn(k*2)*.5}return TWEEN.Easing.BounceOut(k*2-1)*.5+.5}};+function(){var c=data.c=data.config;var _n=function(a){for(var i=0;i<data.param.encodeTimes;i++){a=encodeURIComponent(a)}return a},_c=data.clickUrl,_e=encodeURIComponent,productUrl;for(var i=0;i<data.lists.length;i++){var _d=data.lists[i];productUrl=_e(_d.productUrl)+data.param.pro+_e(_d.productNo);_d.clickUrl=_c+_n(data.param.ctl+productUrl);_d.currencyCode={RMB:"￥",CNY:"￥",USD:"$",JPY:"￥",HKD:"$",GRP:"£",NTD:"$",AUD:"$",NZD:"$",CAD:"$",KOW:"₩",SGD:"$",THB:"฿"}[_d.currencyCode]||_d.currencyCode;_d.discount=parseFloat(_d.origPrice&&_d.price/_d.origPrice||_d.discount||0).toFixed(1);_d.priceNum=_d.price=Number(_d.price)||0;_d.price=_d.price>1e4?(_d.price/1e4).toFixed(1)+"万":_d.price>1e3?_d.price.toFixed(0):_d.price||""}data.customUrl=_c+_n(data.param.ctl+_e(c.customUrl));var m=function(str){if(str)return _c+_n(data.param.ctl+_e(str));else return data.customUrl};data.logoTargetUrl=m(c.logoTargetUrl);data.iconUrl=m(c.iconUrl);data.posterUrl=m(c.posterUrl);data.promotionUrl=m(c.promotionUrl)}();!function(w){var $=function(id){return document.getElementById(id)},extend=function(destination,source){for(var property in source){if(source.hasOwnProperty(property)){!(source[property]===undefined)&&(destination[property]=source[property])}}return destination},getByClass=w.getByClass=function(searchClass,node){node=node||document;if(node.getElementsByClassName){return node.getElementsByClassName(searchClass)}if(!searchClass)return[];var r=[],els=node.getElementsByTagName("*"),i=els.length;searchClass=searchClass.replace(/\-/g,"\\-");var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");while(--i>=0){if(pattern.test(els[i].className)){r.unshift(els[i])}}return r},addEvent=function(ele,type,hander){if(ele.addEventListener){ele.addEventListener(type,hander,false)}else if(ele.attachEvent){ele.attachEvent("on"+type,hander)}else{ele["on"+type]=hander}},isArr=Array.isArray||function(arr){return{}.toString.call(arr)==="[object Array]"},hasClass=function(element,className){var classNames=element.className;if(!classNames){return false}classNames=classNames.split(/\s+/);for(var i=0;i<classNames.length;){if(classNames[i++]===className){return true}}return false},addClass=function(element,className){if(!hasClass(element,className)){element.className+=" "+className}},removeClass=function(element,className){if(className&&hasClass(element,className)){element.className=element.className.replace(new RegExp("\\s*"+className+"\\s*")," ")}},getStyle=function(element){return w.getComputedStyle&&w.getComputedStyle(element,null)||element.currentStyle},removeEvent=function(ele,type,hander){if(ele.removeEventListener){ele.removeEventListener(type,hander,false)}else if(ele.detachEvent){ele.detachEvent("on"+type,hander)}else{ele["on"+type]=null}},create=function(e){return document.createElement(e)},cssDetect=w.cssDetect=function(){var CSSprefix="webkit,moz".split(","),d=create("div");return function(prop){var Uprop=prop.charAt(0).toUpperCase()+prop.substr(1),All=(prop+" "+CSSprefix.join(Uprop+" ")+Uprop).split(" ");for(var n=0,np=All.length;n<np;n++){if(d.style[All[n]]==="")return All[n]}return false}}();function Carousel(options){var basic=function(e,v,vertical){e.style[vertical?"top":"left"]=v+"%"},formmatter={none:function(){},fade:function(){var key=cssDetect("opacity");if(!key){return basic}else{return function(e,v){e.style[key]=(100-Math.abs(v))/100}}}(),"3D":function(){var key1=cssDetect("transform"),key2=cssDetect("transformOrigin");if(!key1||!key2){return basic}else{return function(e,v,vertical){var r=(vertical?this.h:this.w)/2,cos=Math.cos(v/100*90/180*Math.PI),sin=Math.sin(v/100*90/180*Math.PI),rotate=(vertical?"rotateX(":"rotateY(")+v*90/100+"deg)",translate=" translate3d("+(vertical?0:r*sin)+"px,"+(vertical?-r*sin:0)+"px,"+parseInt(r*(1-cos))+"px)";e.style[key2]="center center";e.style[key1]=rotate+translate;e.style.opacity=(100-Math.abs(v))/100}}}(),slide:function(){var key=cssDetect("transform");if(!key){return basic}else{return function(e,v,vertical){e.style[key]=(vertical?"translateY(":"translateX(")+v+"%)"}}}()},postStyle=function(){var key=cssDetect("opacity");if(!key){return function(e,v){e.style.filter="alpha(opacity="+(100-Math.abs(v))+")"}}else{return function(e,v){e.style[key]=(100-Math.abs(v))/100}}}(),postShowTimer=[],postHideTimer=[],isPostShow=false,postIsMoving=false,postDuration=500;function Slider(options,containerId){options=this.options=extend({},options);var container=this.container=$(containerId),items=getByClass(options.itemClass,container),isMoving=false,isRunning=false,last=0,intervalId=null,nextIndex=null,length=this.length=items.length,indics=this.indics=getByClass(options.indic,container),itemStyle=getStyle(items[0]);this.w=parseInt(itemStyle.width);this.h=parseInt(itemStyle.height);function init(){options.style.call(that,items[0],0);items[0].style.zIndex="2";for(var i=1;i<length;++i){options.style.call(that,items[i],100,options.isV);items[i].style.zIndex="1"}if(indics.length){addClass(indics[0],"active")}if(indics.length&&options.indicEvent){for(i=0;i<length;++i){+function(i){addEvent(indics[i],options.indicEvent,function(){var isRun=isRunning;clearInterval(intervalId);me.postStop();isRunning=false;that.play(i);if(isRun){that.start()}})}(i)}}$(options.preBtn)&&addEvent($(options.preBtn),"click",function(){that.toPre()});$(options.nextBtn)&&addEvent($(options.nextBtn),"click",function(){that.toNext()});if(options.onMouseoverStop){addEvent(container,"mouseover",function(){that.stop()});addEvent(container,"mouseout",function(){if(options.auto){that.start()}})}if(options.auto){that.start();setInterval(function(){that.toStart&&that.start()},3e3)}}this.play=function(dist){if(isMoving){nextIndex=dist;return}isMoving=true;if(isNaN(dist)){dist=(last+1)%length}dist=dist%length;if(dist<0){dist=dist+length}if(length>1&&dist===last){isMoving=false;return}options.onStart.call(this,dist);items[dist].style.zIndex="2";var initStyle,distStyle;if(dist>last&&!(last===0&&dist==length-1)||dist===0&&last===length-1){length>1&&options.style.call(this,items[dist],100,options.isV);initStyle={x:100,y:0};distStyle={x:0,y:-100}}else{length>1&&options.style.call(this,items[dist],-100,options.isV);initStyle={x:-100,y:0};distStyle={x:0,y:100}}if(indics.length){addClass(indics[dist],"active");removeClass(indics[last],"active")}new TWEEN.Tween(initStyle).to(distStyle,options.duration).easing(options.tweenFunc).onUpdate(function(){if(length>1){options.style.call(that,items[last],this.y,options.isV);options.style.call(that,items[dist],this.x,options.isV)}}).onComplete(function(){isMoving=false;items[last].style.zIndex="1";last=dist;if(options.successive&&isRunning&&!options.postShow){that.play()}if(nextIndex!==null){that.play(nextIndex);nextIndex=null}else{if(options.postShow&&isRunning){postShowTimer.push(setTimeout(me.showPost,options.postDelay))}if(that.toStart)that.start()}options.onFinish.call(this,dist)}).start()};this.start=function(){if(isRunning)return;if(isMoving){this.toStart=true;return}this.toStart=false;intervalId=setInterval(function(){clearInterval(intervalId);that.play((last+1)%length);intervalId=setInterval(function(){that.play((last+1)%length)},that.options.timeGap)},options.postShow?options.timeGap-options.postTime+500:options.timeGap);isRunning=true;if(options.postShow){postShowTimer.push(setTimeout(me.showPost,options.timeGap-options.postTime))}};this.stop=function(){clearInterval(intervalId);this.toStart=false;me.postStop();isRunning=false};this.toPre=function(){if(isMoving)return;var isRun=isRunning;this.stop();this.play((last+length-1)%length);if(isRun){this.start()}};this.toNext=function(){if(isMoving)return;var isRun=isRunning;this.stop();this.play((last+1)%length);if(isRun){this.start()}};this.isRunning=function(){return isRunning};var that=this;init()}this.stop=function(){for(var i=0;i<sliders.length;i++){sliders[i].stop()}};this.start=function(){for(var i=0;i<sliders.length;i++){sliders[i].start()}};this.showPost=function(){postShowTimer.shift();if(isPostShow||!options.postShow||postIsMoving||!isAllRunning()){return}postIsMoving=true;postStyle(me.post,100);me.post.style.display="block";isPostShow=true;var opt=options;new TWEEN.Tween({x:0}).to({x:100},postDuration).onUpdate(function(){postStyle(me.post,100-this.x)}).onComplete(function(){postHideTimer.push(setTimeout(me.hidePost,opt.postTime-postDuration*2));postIsMoving=false}).start()};this.hidePost=function(){postHideTimer.shift();if(!isPostShow||!options.postShow||postIsMoving){return}postIsMoving=true;var opt=me.options;new TWEEN.Tween({x:0}).to({x:100},postDuration).onUpdate(function(){postStyle(me.post,this.x)}).onComplete(function(){me.post.style.display="none";isPostShow=false;postIsMoving=false}).start()};this.postStop=function(){while(postShowTimer.length){clearTimeout(postShowTimer.shift())}while(postHideTimer.length){clearTimeout(postHideTimer.shift())}if(postIsMoving)setTimeout(function(){me.postStop()},100)};function isAllRunning(){for(var i=0;i<sliders.length;i++){if(!sliders[i].isRunning())return false}return true}var sliders=this.sliders=[],me=this;options=extend({container:"container",itemClass:"item",indic:"",indicEvent:"mouseover",preBtn:"prev",nextBtn:"next",timeGap:3500,duration:500,auto:true,tweenFunc:TWEEN.Easing.QuadInOut,isV:false,onMouseoverStop:true,onStart:function(i){},onFinish:function(i){},successive:false,postShow:false,postId:"poster",postTime:3e3},options);typeof options.style==="function"||(options.style=formmatter[options.style]||formmatter.slide);if(options.postShow){me.post=$(options.postId);if(me.post){me.post.style.opacity="0";options.postDelay=options.timeGap+options.postTime-options.duration-postDuration;options.timeGap+=options.postTime}else{options.postShow=false}}if(options.onMouseoverStop){if(options.postShow){addEvent(me.post,"mouseover",function(){me.stop();me.postStop()});addEvent(me.post,"mouseout",function(){me.start();postHideTimer.push(setTimeout(me.hidePost,800))})}}if(isArr(options.container)){for(var i=0;i<options.container.length;++i){sliders.push(new Slider(options,options.container[i]))}}else{sliders.push(new Slider(options,options.container))}animate();function animate(){requestAnimationFrame(animate);TWEEN.update()}}w.py_show=function(options,baseLength,baseLengthIsMax,callback){var i=0,j=0,c=data.config,opts={timeGap:parseInt(c.speed),duration:parseInt(c.duration),tweenFunc:TWEEN.Easing[c.tween],style:c.style,onMouseoverStop:c.onMouseoverStop,postShow:c.visPoster,postTime:parseInt(c.posterDisplayTime),isV:c.vertical},isReady=false,d;var clickURL=data.clickUrl,_e=encodeURIComponent;var encodeParam=function(parameter){for(var i=0;i<data.param.encodeTimes;i++){parameter=encodeURIComponent(parameter)}return parameter};options=options||{};if(options.isDeeplink){function urlAddParam(orgUrl,addUrl){if(!orgUrl)return"";if(!addUrl)return orgUrl;addUrl=addUrl.replace(/^&/,"");if(~orgUrl.indexOf("?")){orgUrl=orgUrl.replace(/&$/,"");return orgUrl+"&"+addUrl}else{return orgUrl+"?"+addUrl}}w.setLogoDeeplink=function(i,id){document.getElementById(id||"logoTarget").setAttribute("onclick",'deepLinkPro.deepLink(this,"'+data.lists[i].clickUrl+'","'+data.lists[i].iosSchemaUrl+'","'+data.lists[i].androidSchemaUrl+'","'+data.lists[i].mobileProductUrl+'","'+data.config.os+'","'+data.config.ovs+'");return false;')};for(i=0;i<data.lists.length;i++){d=data.lists[i];d.iosSchemaUrl=urlAddParam(d.iosSchemaUrl,c.iosDpQuery);d.androidSchemaUrl=urlAddParam(d.androidSchemaUrl,c.androidDpQuery);if(c.wapRedirect){d.mobileProductUrl=urlAddParam(c.wapRedirectUrl,c.h5DpQuery)}else if(d.mobileProductUrl){d.mobileProductUrl=urlAddParam(d.mobileProductUrl,c.h5DpQuery)}else if(d.product_url){d.mobileProductUrl=urlAddParam(d.product_url,c.h5DpQuery)}if(data.mUrl){if(data.mUrl.indexOf("[uuid]")>-1){data.mUrl=data.mUrl.replace("[uuid]",_e(data.uuid))}if(data.mUrl.indexOf("%%MOBILE_TARGET_URL%%")>-1){data.mUrl=data.mUrl.replace("%%MOBILE_TARGET_URL%%",_e(d.mobileProductUrl))}if(data.mUrl.indexOf("%%MOBILE_TARGET_URL%%")>-1){data.mUrl=data.mUrl.replace("%%MOBILE_TARGET_URL%%",_e(d.mobileProductUrl))}if(data.mUrl.indexOf("%%IOS_SCHEMA_URL%%")>-1){data.mUrl=data.mUrl.replace("%%IOS_SCHEMA_URL%%",_e(d.iosSchemaUrl))}if(data.mUrl.indexOf("%%ANDROID_SCHEMA_URL%%")>-1){data.mUrl=data.mUrl.replace("%%ANDROID_SCHEMA_URL%%",_e(d.androidSchemaUrl))}d.clickUrl=clickURL+encodeParam(data.param.ctl+_e(data.mUrl)+data.param.pro+_e(d.productNo));if(cssDetect("transform")){document.getElementById("main").setAttribute("style","position:absolute;top:50%;left:50%;transform:translate(-50%,-50%); -moz-transform:translate(-50%,-50%); -webkit-transform: translate(-50%,-50%); -o-transform:translate(-50%,-50%);");reSet=setInterval(function(){var pageHeight=document.documentElement.clientHeight||document.body.clientHeight;var pageWidth=document.documentElement.clientWidth||document.body.clientWidth;var box=document.getElementById("main");var boxHeight=box.clientHeight;var boxWidth=box.clientWidth;var widthRate=parseFloat((pageWidth/boxWidth).toFixed(2));var heightRate=parseFloat((pageHeight/boxHeight).toFixed(2));var rate;widthRate>heightRate?rate=heightRate:rate=widthRate;if(rate>0){box.setAttribute("style","position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale("+rate+"); -moz-transform:translate(-50%,-50%) scale("+rate+"); -webkit-transform: translate(-50%,-50%) scale("+rate+"); -o-transform:translate(-50%,-50%) scale("+rate+");");clearInterval(reSet)}},100)}}else{d.clickUrl=clickURL+encodeParam(data.param.ctl)+d.mobileProductUrl+encodeParam(data.param.pro+_e(d.productNo))}}delete options.isDeeplink}baseLength=baseLength||1;if(options.container&&isArr(options.container)){var len=options.container.length;while(data.lists.length%(baseLength*len)){data.lists.push(data.lists[i++])}for(j=1;j<len+1;j++){data["lists"+j]=data.lists.slice(baseLength*(j-1),baseLength*j)}}else{while(data.lists.length%baseLength){data.lists.push(data.lists[i++])}if(baseLengthIsMax)data.lists=data.lists.slice(0,baseLength)}for(var property in opts){if(opts.hasOwnProperty(property)&&typeof opts[property]!=="undefined"&&!(typeof opts[property]==="number"&&isNaN(opts[property])))options[property]=opts[property]}document.onreadystatechange=function(){if(document.readyState!=="loading"){if(isReady)return;isReady=true;document.getElementById("main").innerHTML=template("creative",data);new Carousel(options);callback&&callback()}}}}(window);function fixImg(img,width,height,flag){var w=img.width,h=img.height;if(flag?w/h>width/height:w/h<width/height){img.style.height=height+"px";img.style.marginLeft=Math.round((width-w*height/h)/2)+"px"}else{img.style.width=width+"px";img.style.marginTop=Math.round((height-h*width/w)/2)+"px"}}var cssDetect=function(){var CSSprefix="webkit,moz,o".split(","),d=document.createElement("div");return function(prop){var Uprop=prop.charAt(0).toUpperCase()+prop.substr(1),All=(prop+" "+CSSprefix.join(Uprop+" ")+Uprop).split(" ");for(var n=0,np=All.length;n<np;n++){if(d.style[All[n]]==="")return All[n]}return false}}();